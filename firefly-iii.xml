<?xml version="1.0"?>
<Container version="2">
  <Name>Firefly III</Name>
  <Repository>jc5x/firefly-iii:latest</Repository>
  <Registry>https://hub.docker.com/r/jc5x/firefly-iii</Registry>
  <Network>bridge</Network>
  <MyIP/>
  <Shell>sh</Shell>
  <Privileged>false</Privileged>
  <Support/>
  <Project>https://firefly-iii.org/</Project>
  <Overview>"Firefly III" is a self-hosted financial manager. It can help you keep track of expenses, income, budgets and everything in between. It supports credit cards, shared household accounts and savings accounts. Itâ€™s pretty fancy. You should use it to save and organise money.</Overview>
  <Category/>
  <WebUI>http://[IP]:[PORT:5080]/</WebUI>
  <TemplateURL/>
  <Icon>https://camo.githubusercontent.com/729d179402476b1dd9de4ec9f5fa5910e6bf56aa/68747470733a2f2f66697265666c792d6969692e6f72672f7374617469632f696d672f6c6f676f2d736d616c6c2d6e65772e706e67</Icon>
  <ExtraParams/>
  <PostArgs/>
  <CPUset/>
  <DateInstalled>1559311988</DateInstalled>
  <DonateText>If you like Firefly III and if it helps you save lots of money, why not send me a dime for every dollar saved. This is a joke, although the Paypal form works just fine, try it!</DonateText>
  <DonateLInk>https://www.patreon.com/jc5</DonateLInk>
  <Description>This is a basic docker template, just enough to get it up and running. It requires a mysql database, so you will need a mysql or mariadb instance.
        Setup:
          Open the database server/docker console from the docker page
        1) mysql -uroot -p        (Login to your database server with root)
        2) CREATE USER 'firefly' IDENTIFIED BY 'firefly';
        3) CREATE DATABASE IF NOT EXISTS fireflydb;
        4) GRANT ALL PRIVILEGES ON fireflydb.* TO 'firefly' IDENTIFIED BY 'firefly';(MariaDB) OR GRANT ALL PRIVILEGES ON fireflydb.* TO 'firefly'@'localhost';(mysql)
        5) quit
          Open the firefly-iii console from the docker page
        1) php artisan migrate --seed   (Took me 30 min until finished, so be patient!)
        2) php artisan firefly:upgrade-database
        3) php artisan firefly:verify
        4) php artisan passport:install</Description>
  <Networking>
    <Mode>bridge</Mode>
    <Publish>
      <Port>
        <HostPort>5080</HostPort>
        <ContainerPort>8080</ContainerPort>
        <Protocol>tcp</Protocol>
        <Description>When updating this value, also update the WebUI value via advanced view.</Description>
      </Port>
    </Publish>
  </Networking>
  <Data>
    <Volume>
      <HostDir>/mnt/user/appdata/firefly-iii/upload/</HostDir>
      <ContainerDir>/var/www/firefly-iii/storage/upload</ContainerDir>
      <Mode>rw</Mode>
      <Description>Where Firefly III stores attachments.</Description>
    </Volume>
  </Data>
  <Environment>
    <Variable>
      <Value>/mnt/user/appdata/firefly-iii/</Value>
      <Name>FIREFLY_PATH</Name>
      <Key>FIREFLY_PATH</Key>
      <Mode/>
    </Variable>
    <Variable>
      <Value>S0m3R@nd0mString0f32Ch@rsEx@ct1y</Value>
      <Name>APP_KEY</Name>
      <Key>APP_KEY</Key>
      <Description>CHANGE! Random value of exactly 32 characters. Used to encrypt sessions and attachments. Don't lose this key.</Description>
      <Mode/>
    </Variable>
	<Variable>
      <Value>mysql</Value>
      <Name>DB_CONNECTION</Name>
      <Key>DB_CONNECTION</Key>
      <Description>mysql or empty when using PostgreSQL</Description>
      <Mode/>
    </Variable>
    <Variable>
      <Value></Value>
      <Name>DB_HOST</Name>
      <Key>DB_HOST</Key>
      <Description>Database_IP: 192.168.1.12</Description>
      <Mode/>
    </Variable>
    <Variable>
      <Value>3406</Value>
	  <Name>DB_PORT</Name>
      <key>DB_PORT</key>
      <Description>Database port: 3406</Description>
      <Mode/>
    </Variable>
    <Variable>
      <Value>fireflydb</Value>
      <Name>DB_DATABASE</Name>
      <key>DB_DATABASE</key>
      <Description>Name of the database where Firefly III can store its data</Description>
      <Mode/>
    </Variable>
    <Variable>
      <Value>firefly</Value>
      <Name>DB_USERNAME</Name>
      <Key>DB_USERNAME</Key>
      <Description>Username that is allowed to connect and edit the Firefly III database</Description>
      <Mode/>
    </Variable>
    <Variable>
      <Value>firefly</Value>
      <Name>DB_PASSWORD</Name>
      <Key>DB_PASSWORD</Key>
      <Description>Password for the DB_USER</Description>
      <Mode/>
    </Variable>
	<Variable>
      <Value>stdout</Value>
      <Name>LOG_CHANNEL</Name>
      <Key>LOG_CHANNEL</Key>
      <Description>Required when using MariaDB</Description>
      <Mode/>
    </Variable>
  </Environment>
  <Labels/>
  <Config Name="Host Path 2" Target="/var/www/firefly-iii/storage/upload" Default="" Mode="rw" Description="Container Path: /var/www/firefly-iii/storage/upload - Where Firefly III stores attachments." Type="Path" Display="always" Required="false" Mask="false">/mnt/user/appdata/firefly-iii/upload/</Config>
  <Config Name="Host Port 1" Target="8080" Default="" Mode="tcp" Description="Container Port: 8080 - When updating this value, also update the WebUI value via advanced view." Type="Port" Display="always" Required="false" Mask="false">5080</Config>
  <Config Name="FIREFLY_PATH" Target="FIREFLY_PATH" Default="" Mode="" Description="Container Variable: FIREFLY_PATH" Type="Variable" Display="always" Required="false" Mask="false">/mnt/user/appdata/firefly-iii/</Config>
  <Config Name="APP_KEY" Target="APP_KEY" Default="" Mode="" Description="Container Variable: APP_KEY - CHANGE! Random value of exactly 32 characters. Used to encrypt sessions and attachments. Don't lose this key." Type="Variable" Display="always" Required="false" Mask="false">S0m3R@nd0mString0f32Ch@rsEx@ct1y</Config>
  <Config Name="DB_CONNECTION" Target="DB_CONNECTION" Default="" Mode="" Description="Container Variable: DB_CONNECTION - mysql or empty when using PostgreSQL" Type="Variable" Display="always" Required="false" Mask="false">mysql</Config>
  <Config Name="DB_HOST" Target="DB_HOST" Default="" Mode="" Description="Container Variable: DB_HOST - Database_IP:192.168.1.12" Type="Variable" Display="always" Required="false" Mask="false"></Config>
  <Config Name="DB_PORT" Target="DB_PORT" Default="" Mode="" Description="Container Variable: DB_PORT - Database_PORT: 3306" Type="Variable" Display="always" Required="false" Mask="false"></Config>	
  <Config Name="DB_DATABASE" Target="DB_DATABASE" Default="" Mode="" Description="Container Variable: DB_DATABASE - Name of the database where Firefly III can store its data" Type="Variable" Display="always" Required="false" Mask="false">fireflydb</Config>
  <Config Name="DB_USERNAME" Target="DB_USERNAME" Default="" Mode="" Description="Container Variable: DB_USERNAME - Username that is allowed to connect and edit the Firefly III database" Type="Variable" Display="always" Required="false" Mask="false">firefly</Config>
  <Config Name="DB_PASSWORD" Target="DB_PASSWORD" Default="" Mode="" Description="Container Variable: DB_PASSWORD - Password for the DB_USERNAME" Type="Variable" Display="always" Required="false" Mask="false">firefly</Config>
  <Config Name="LOG_CHANNEL" Target="LOG_CHANNEL" Default="" Mode="" Description="Container Variable: LOG_CHANNEL - Required when using MariaDB" Type="Variable" Display="always" Required="false" Mask="false">stdout</Config>
</Container>
